<div id="app">
  <app-tool-bar id="tool-bar"></app-tool-bar>
  <div id="main-container">
    <app-pages-preview id="page-viewer" [bookCom]="editorService.bookCom" [currentPage]="editorService.pageCom" [currentPageProgress]="editorService.pageEditingProgress"></app-pages-preview>
    <div id="content">
      <div id="content-loading-wrapper">
        <app-sheet-overlay
          [pcgts]="editorService.pageStateVal.pcgts"
          id="sheet-overlay"
          *ngIf="toolbarStateService.currentPrimaryView === PrimaryViews.Editor && !editorService.pageLoading">
        </app-sheet-overlay>
        <div class="preprocessing" *ngIf="toolbarStateService.currentPrimaryView === PrimaryViews.Preprocessing">
          <app-preprocessing *ngIf="!editorService.pcgts"></app-preprocessing>
        </div>
        <div *ngIf="editorService.errorMessage !== ''">
          An error occured:
          {{ editorService.errorMessage }}
        </div>
      </div>
      <div class="load-overlay svg-overlay" *ngIf="editorService.isLoading">
        <app-loader-icon class="load-icon"></app-loader-icon>
      </div>
    </div>
    <div id="property-widgets">
      <div class="property-widget">
        <app-note-property-widget></app-note-property-widget>
      </div>
      <div class="property-widget">
        <app-debug-action-statistics></app-debug-action-statistics>
      </div>
    </div>
  </div>
  <app-debug></app-debug>
</div>
