<div class="page-preview">
  <div class="page-preview-content">
    <div class="load-wrapper">
      <app-secured-image class="page-preview-image" src="{{ page.preview_url(color, processing) }}" [alt]="page.page" (load)="imgLoaded = true" ></app-secured-image>
      <div
        *ngIf="!imgLoaded"
        class="load-overlay">
        <app-loader-icon class="load-icon"></app-loader-icon>
      </div>
    </div>
    <div class="page-preview-id-container">
      <span class="page-preview-id">{{ page.page }}</span>
      <app-hover-menu class="page-preview-buttons" *ngIf="toolButtons">
        <li mat-menu-item (click)="rename.emit()"><mat-icon class="icon-edit-text"></mat-icon><button mat-button>Rename</button></li>
        <li mat-menu-item (click)="edit.emit()"><mat-icon class="icon-pencil"></mat-icon><button mat-button>Edit</button></li>
        <li mat-menu-item (click)="download.emit()"><mat-icon class="icon-archive"></mat-icon><button mat-button>Export</button></li>
        <li mat-menu-item (click)="remove.emit()"><mat-icon class="icon-delete-forever"></mat-icon><button mat-button color="warn">Delete</button></li>
      </app-hover-menu>
    </div>

  </div>
  <div class="page-preview-status">
    <ul class="icon-list">
      <li [class.checked]="progress.getLocked(Locked.StaffLines)">s</li>
      <li [class.checked]="progress.getLocked(Locked.Layout)">l</li>
      <li [class.checked]="progress.getLocked(Locked.Symbols)">s</li>
      <li [class.checked]="progress.getLocked(Locked.Text)">t</li>
    </ul>
  </div>
</div>
