<mat-card>
  <mat-card-header>
    <mat-icon mat-card-avatar>developer_board</mat-icon>
    <mat-card-title i18n="@@Users">Tasks</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <table mat-table [dataSource]="tasks" class="mat-elevation-z8 table">
      <ng-container matColumnDef="book">
        <th mat-header-cell *matHeaderCellDef> Book </th>
        <td mat-cell *matCellDef="let task"> {{ task.book.name }} </td>
      </ng-container>

      <ng-container matColumnDef="notationStyle">
        <th mat-header-cell *matHeaderCellDef> Notation style </th>
        <td mat-cell *matCellDef="let task"> {{ globalSettings.bookStyleById(task.book.notationStyle).name }} </td>
      </ng-container>

      <ng-container matColumnDef="algorithmType">
        <th mat-header-cell *matHeaderCellDef> Algorithm type </th>
        <td mat-cell *matCellDef="let task"> {{ metaForAlgorithmType.get(task.algorithmType).label }} </td>
      </ng-container>

      <ng-container matColumnDef="creator">
        <th mat-header-cell *matHeaderCellDef> Creator </th>
        <td mat-cell *matCellDef="let task"> {{ task.creator.firstName }} {{ task.creator.lastName }} </td>
      </ng-container>

      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef> Status </th>
        <td mat-cell *matCellDef="let task"> {{ taskStatusCodeLabels.get(task.status.code) }} </td>
      </ng-container>

      <ng-container matColumnDef="progress">
        <th mat-header-cell *matHeaderCellDef> Progress </th>
        <td mat-cell *matCellDef="let task">
          <mat-progress-bar [value]="task.status.progress * 100"></mat-progress-bar>
        </td>
      </ng-container>

      <ng-container matColumnDef="cancel">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let task">
          <button mat-icon-button (click)="cancel(task.id)"><mat-icon>cancel</mat-icon></button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </mat-card-content>
</mat-card>
